(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{570:function(e,t,r){"use strict";r.r(t);r(14),r(23),r(99),r(25);var n={props:{features:{type:Array,default:null},highlight:{type:Object,default:null}},data:function(){return{map:null,baseLayers:[{layer:"terrain-light"},{layer:"overlay_bright"}],vectorSource:null,defaultStyle:null,highlightStyle:null,defaultPadding:[100,100,100,100]}},watch:{highlight:function(e){var t=this;if(e&&e.geometry){this.vectorSource.getFeatures().forEach((function(e){return e.setStyle(t.defaultStyle)}));var r=this.vectorSource.getFeatureById(e.id);r.setStyle(this.highlightStyle),this.map.getView().fit(r.getGeometry().getExtent(),{padding:this.defaultPadding,duration:500})}}},mounted:function(){this.createMap()},methods:{createMap:function(){var e=this,ol=this.$ol,t=new ol.WMTSCapabilities;this.defaultStyle=new ol.Style({stroke:new ol.Stroke({color:"rgba(0, 50, 71, 0.5)",width:3}),fill:new ol.Fill({color:"rgba(0, 50, 71, 0.2)"})}),this.highlightStyle=new ol.Style({stroke:new ol.Stroke({color:"rgba(0, 50, 71, 1)",width:3}),fill:new ol.Fill({color:"rgba(0, 50, 71, 0.4)"})}),fetch("https://s2maps.eu/WMTSCapabilities.xml").then((function(e){return e.text()})).then((function(text){var r=t.read(text),n=[];e.baseLayers.forEach((function(e){var t=ol.optionsFromCapabilities(r,{layer:e.layer,matrixSet:"EPSG:4326"});t.wrapX=!0,n.push(new ol.TileLayer({opacity:1,source:new ol.WMTS(t)}))}));var l={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:e.features.filter((function(e){return!!e.geometry}))};e.vectorSource=new ol.VectorSource({features:(new ol.GeoJSON).readFeatures(l)});var o=new ol.VectorLayer({source:e.vectorSource,style:e.defaultStyle});n.push(o),e.map=new ol.Map({layers:n,target:e.$refs.mapContainer,view:new ol.View({center:[0,0],zoom:0,multiWorld:!0,projection:"EPSG:4326"})}),e.map.getView().fit(e.vectorSource.getExtent(),{padding:e.defaultPadding})}))},unmount:function(){this.map=null}}},l=r(155),component=Object(l.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("no-ssr",[t("div",{ref:"mapContainer",staticStyle:{height:"400px",width:"100%"}})])}),[],!1,null,null,null);t.default=component.exports}}]);