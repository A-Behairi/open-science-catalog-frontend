(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{655:function(e,t,r){var content=r(687);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("3297091d",content,!0,{sourceMap:!1})},686:function(e,t,r){"use strict";r(655)},687:function(e,t,r){var n=r(30)(!1);n.push([e.i,".variableHeaderContainer[data-v-3b5189ba]{border-bottom:.25em solid #335e6f}.variableLink[data-v-3b5189ba]{text-decoration:none}",""]),e.exports=n},705:function(e,t,r){"use strict";r.r(t);var n=r(53),o=(r(179),r(42),r(101),r(14),r(78),r(86),r(99),r(52),{name:"VariableSingle",components:{BreadCrumbNav:r(575).default},data:function(){return{variable:null,products:[],productsSearch:"",productsFilterOptions:[{text:"Name",value:"title"},{text:"Description",value:"description"}],productsFilterSortBy:"title",productsFilterOrder:"Ascending",productsFilterMission:null,metrics:null,page:1,numberOfPages:1}},head:function(){return{title:this.$route.params.variable.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},watch:{productsFilterMission:function(){this.filterProducts()}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$staticCatalog.$get("variables/".concat(e.$route.params.variable)).then((function(t){e.variable=t})).catch((function(e){console.log(e)}));case 2:return t.next=4,Promise.all(e.variable.links.map(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(link){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("item"!==link.rel){t.next=5;break}return t.next=3,e.$axios.$get(link.href);case 3:r=t.sent,e.products.push(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:return t.next=6,e.$staticCatalog.$get("/metrics");case 6:e.metrics=t.sent;case 7:case"end":return t.stop()}}),t)})))()},methods:{filterProducts:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/collections/metadata:main/items?type=dataset".concat("&q=".concat(e.$metaInfo.title),e.productsSearch?"&q=".concat(e.productsSearch):"").concat(e.productsFilterMission?"&q=".concat(e.productsFilterMission):"","&sortby=").concat(e.productsFilterSortBy,"&offset=").concat(10*(e.page-1)),t.next=3,e.$dynamicCatalog.$get(r);case 3:n=t.sent,"Descending"===e.productsFilterOrder&&(e.products=n.features.reverse()),e.products=n.features,e.numberOfPages=Math.round(n.numberMatched/10);case 7:case"end":return t.stop()}}),t)})))()}}}),c=o,l=(r(686),r(155)),d=r(201),v=r.n(d),f=r(590),m=r(694),h=r(592),x=r(282),_=r(697),w=r(695),k=r(608),y=r(563),F=r(549),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.variable?r("div",[r("bread-crumb-nav",{attrs:{theme:e.variable["osc:theme"],variable:e.variable.id}}),e._v(" "),r("div",{staticClass:"pb-4 variableHeaderContainer"},[r("v-container",[r("v-row",[r("v-col",[r("h2",{staticClass:"text-h2"},[e._v("\n            "+e._s(e.variable.id)+"\n          ")])])],1),e._v(" "),r("v-row",[r("v-col",[r("v-chip",{attrs:{color:"rgb(124, 69, 86)",dark:""}},[e._v("\n            "+e._s(e.variable["osc:theme"])+"\n          ")])],1)],1),e._v(" "),r("v-row",[r("v-col",[r("span",[e._v("\n            "+e._s(e.variable.description)+"\n          ")])])],1),e._v(" "),r("v-row",[r("v-col",e._l(e.variable.links.filter((function(e){return"via"===e.rel})),(function(link){return r("a",{key:link.href,staticClass:"mr-1 variableLink",attrs:{href:link.href,target:"_blank"}},[r("v-icon",[e._v("\n              mdi-link\n            ")]),e._v(" "),r("span",[e._v("\n              "+e._s(link.title)+"\n            ")])],1)})),0)],1)],1)],1),e._v(" "),r("v-container",{staticClass:"white",class:e.$vuetify.breakpoint.lgAndUp?"px-15":"pa-0"},[r("v-row",{staticClass:"pa-6"},[r("v-col",{attrs:{cols:"12",md:"4"}},[r("span",{staticClass:"text-h2"},[e._v("\n          Products\n        ")])]),e._v(" "),r("v-col",{class:e.$vuetify.breakpoint.lgAndUp?"d-flex":"",attrs:{cols:"12",md:"8"}},[r("v-spacer"),e._v(" "),r("v-select",{class:e.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:e.productsFilterOptions,label:"Sort by",outlined:""},on:{change:function(t){return e.filterProducts()}},model:{value:e.productsFilterSortBy,callback:function(t){e.productsFilterSortBy=t},expression:"productsFilterSortBy"}}),e._v(" "),r("v-select",{class:e.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:["Ascending","Descending"],label:"Order",outlined:""},on:{change:function(t){return e.filterProducts()}},model:{value:e.productsFilterOrder,callback:function(t){e.productsFilterOrder=t},expression:"productsFilterOrder"}}),e._v(" "),e.metrics?r("v-select",{class:e.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:e.metrics.missions.map((function(e){return e.name})).sort(),label:"Satellite mission",outlined:""},model:{value:e.productsFilterMission,callback:function(t){e.productsFilterMission=t},expression:"productsFilterMission"}}):e._e(),e._v(" "),r("v-text-field",{staticStyle:{width:"400px !important","flex-grow":"0"},attrs:{dense:"","hide-details":"",outlined:"","single-line":"",label:"Search products","prepend-inner-icon":"mdi-magnify"},on:{input:e.filterProducts},model:{value:e.productsSearch,callback:function(t){e.productsSearch=t},expression:"productsSearch"}})],1)],1),e._v(" "),r("item-grid",{attrs:{type:"products",items:e.products}}),e._v(" "),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-pagination",{attrs:{length:e.numberOfPages},on:{input:e.filterProducts,next:e.filterProducts,previous:e.filterProducts},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)],1):e._e()}),[],!1,null,"3b5189ba",null);t.default=component.exports;v()(component,{BreadCrumbNav:r(575).default,ItemGrid:r(578).default}),v()(component,{VChip:f.a,VCol:m.a,VContainer:h.a,VIcon:x.a,VPagination:_.a,VRow:w.a,VSelect:k.a,VSpacer:y.a,VTextField:F.a})}}]);