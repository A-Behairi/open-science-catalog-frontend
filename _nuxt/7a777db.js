(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{655:function(e,r,t){var content=t(688);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(31).default)("3a09ad7e",content,!0,{sourceMap:!1})},687:function(e,r,t){"use strict";t(655)},688:function(e,r,t){var n=t(30)(!1);n.push([e.i,".variableHeaderContainer{border-bottom:.25em solid #335e6f}",""]),e.exports=n},705:function(e,r,t){"use strict";t.r(r);var n=t(53),c=(t(179),t(42),t(101),t(14),t(78),t(86),t(99),t(75),t(52),{name:"VariableSingle",components:{BreadCrumbNav:t(576).default},data:function(){return{variable:null,records:[],recordsSearch:"",recordsFilterOptions:[{text:"Name",value:"title"},{text:"Description",value:"description"}],recordsFilterSortBy:"title",recordsFilterOrder:"Ascending",recordsFilterMission:null,metrics:null,page:1,numberOfPages:1}},head:function(){return{title:this.$route.params.variable.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},watch:{recordsFilterMission:function(){this.filterRecords()}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$staticCatalog.$get("variables/".concat(e.$route.params.variable)).then((function(r){e.variable=r})).catch((function(e){console.log(e)}));case 2:return r.next=4,Promise.all(e.variable.links.map(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(link){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("item"!==link.rel){r.next=5;break}return r.next=3,e.$staticCatalog.$get("/products/".concat(link.href.slice(0,-5)));case 3:t=r.sent,e.records.push(t);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()));case 4:return r.next=6,e.$staticCatalog.$get("/metrics");case 6:e.metrics=r.sent;case 7:case"end":return r.stop()}}),r)})))()},methods:{filterRecords:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/collections/metadata:main/items?type=dataset".concat("&q=".concat(e.$metaInfo.title),e.recordsSearch?"&q=".concat(e.recordsSearch):"").concat(e.recordsFilterMission?"&q=".concat(e.recordsFilterMission):"","&sortby=").concat(e.recordsFilterSortBy,"&startindex=").concat(10*(e.page-1)),r.next=3,e.$dynamicCatalog.$get(t);case 3:n=r.sent,"Descending"===e.recordsFilterOrder&&(e.records=n.features.reverse()),e.records=n.features,e.numberOfPages=Math.round(n.numberMatched/10);case 7:case"end":return r.stop()}}),r)})))()}}}),o=c,l=(t(687),t(155)),d=t(201),v=t.n(d),m=t(596),f=t(695),h=t(598),x=t(697),w=t(696),_=t(610),C=t(563),F=t(549),component=Object(l.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.variable?t("div",[t("bread-crumb-nav",{attrs:{theme:e.variable["osc:theme"],variable:e.variable.id}}),e._v(" "),t("div",{staticClass:"pb-4 variableHeaderContainer"},[t("v-container",[t("v-row",{staticClass:"ml-2"},[t("span",{staticClass:"mt-3 mb-5 text-h2"},[e._v("\n          "+e._s(e.variable.id)+"\n        ")])]),e._v(" "),t("v-row",{staticClass:"ml-2 pt-0 mt-0 mb-4"},[t("v-chip",{attrs:{color:"rgb(124, 69, 86)",dark:""}},[e._v("\n          "+e._s(e.variable["osc:theme"])+"\n        ")])],1),e._v(" "),t("v-row",{staticClass:"ml-2"},[t("span",[e._v("\n          "+e._s(e.variable.description)+"\n        ")])])],1)],1),e._v(" "),t("v-container",{staticClass:"white",class:e.$vuetify.breakpoint.lgAndUp?"px-15":"pa-0"},[t("v-row",{staticClass:"pa-6"},[t("v-col",{attrs:{cols:"12",md:"4"}},[t("span",{staticClass:"text-h2"},[e._v("\n          Records\n        ")])]),e._v(" "),t("v-col",{class:e.$vuetify.breakpoint.lgAndUp?"d-flex":"",attrs:{cols:"12",md:"8"}},[t("v-spacer"),e._v(" "),t("v-select",{class:e.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:e.recordsFilterOptions,label:"Sort by",outlined:""},on:{change:function(r){return e.filterRecords()}},model:{value:e.recordsFilterSortBy,callback:function(r){e.recordsFilterSortBy=r},expression:"recordsFilterSortBy"}}),e._v(" "),t("v-select",{class:e.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:["Ascending","Descending"],label:"Order",outlined:""},on:{change:function(r){return e.filterRecords()}},model:{value:e.recordsFilterOrder,callback:function(r){e.recordsFilterOrder=r},expression:"recordsFilterOrder"}}),e._v(" "),e.metrics?t("v-select",{class:e.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:e.metrics.missions.map((function(e){return e.name})).sort(),label:"Satellite mission",outlined:""},model:{value:e.recordsFilterMission,callback:function(r){e.recordsFilterMission=r},expression:"recordsFilterMission"}}):e._e(),e._v(" "),t("v-text-field",{staticStyle:{width:"400px !important","flex-grow":"0"},attrs:{dense:"","hide-details":"",outlined:"","single-line":"",label:"Search records","prepend-inner-icon":"mdi-magnify"},on:{input:e.filterRecords},model:{value:e.recordsSearch,callback:function(r){e.recordsSearch=r},expression:"recordsSearch"}})],1)],1),e._v(" "),t("item-grid",{attrs:{type:"records",items:e.records}}),e._v(" "),t("v-row",[t("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t("v-pagination",{attrs:{length:e.numberOfPages},on:{input:e.filterRecords,next:e.filterRecords,previous:e.filterRecords},model:{value:e.page,callback:function(r){e.page=r},expression:"page"}})],1)],1)],1)],1):e._e()}),[],!1,null,null,null);r.default=component.exports;v()(component,{BreadCrumbNav:t(576).default,ItemGrid:t(581).default}),v()(component,{VChip:m.a,VCol:f.a,VContainer:h.a,VPagination:x.a,VRow:w.a,VSelect:_.a,VSpacer:C.a,VTextField:F.a})}}]);