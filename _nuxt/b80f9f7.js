(window.webpackJsonp=window.webpackJsonp||[]).push([[10,11],{568:function(t,e,r){"use strict";r.r(e);r(25),r(21),r(30),r(31);var o=r(7);r(118),r(16),r(23),r(255),r(24);function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var c={props:{features:{type:Array,default:null},highlight:{type:Object,default:null}},data:function(){return{map:null,baseLayers:[{layer:"terrain-light_3857"},{layer:"overlay_bright_3857"}],vectorSource:null,defaultStyle:null,highlightStyle:null,defaultPadding:[50,25,50,25]}},watch:{highlight:function(t){var e=this;if(this.map&&t&&t.geometry){this.vectorSource.getFeatures().forEach((function(t){return t.setStyle(e.defaultStyle)}));var r=this.vectorSource.getFeatureById(t.id);r.setStyle(this.highlightStyle),this.map.getView().fit(r.getGeometry().getExtent(),{padding:this.defaultPadding,duration:500})}}},mounted:function(){this.createMap()},methods:{createMap:function(){var t=this,ol=this.$ol,e=new ol.WMTSCapabilities;this.defaultStyle=new ol.Style({stroke:new ol.Stroke({color:"rgba(0, 50, 71, 0.5)",width:3}),fill:new ol.Fill({color:"rgba(0, 50, 71, 0.2)"})}),this.highlightStyle=new ol.Style({stroke:new ol.Stroke({color:"rgba(20, 100, 91, 1)",width:3}),fill:new ol.Fill({color:"rgba(0, 200, 71, 0.4)"})}),fetch("https://tiles.maps.eox.at/wmts/1.0.0/WMTSCapabilities.xml").then((function(t){return t.text()})).then((function(text){var r=e.read(text),o=[];t.baseLayers.forEach((function(e){var n=ol.optionsFromCapabilities(r,{layer:e.layer,matrixSet:"EPSG:3857"});o.push(new ol.TileLayer({opacity:1,source:new ol.WMTS(l(l({},n),{},{wrapX:!0,attributions:r.Contents.Layer.find((function(t){return t.Identifier===e.layer})).Abstract+(t.baseLayers.indexOf(e)<t.baseLayers.length-1?",":"")}))}))}));var n={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:t.features.filter((function(t){return!!t.geometry}))};t.vectorSource=new ol.VectorSource({features:(new ol.GeoJSON).readFeatures(n,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})});var c=new ol.VectorLayer({source:t.vectorSource,style:t.defaultStyle});o.push(c),t.map=new ol.Map({layers:o,target:t.$refs.mapContainer,view:new ol.View({center:[0,0],zoom:0,multiWorld:!0,projection:"EPSG:3857"})}),t.map.getView().fit(t.vectorSource.getExtent(),{padding:t.defaultPadding})}))}}},v=r(150),component=Object(v.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("no-ssr",[r("div",{ref:"mapContainer",style:"height: "+(t.$vuetify.breakpoint.smOnly?"200px":"400px")+"; width: 100%;"})])}),[],!1,null,null,null);e.default=component.exports},600:function(t,e,r){"use strict";r.r(e);var o={name:"CoverageDialog",components:{CoverageMap:r(568).default},props:{products:{type:Array,default:null},variable:{type:Object,default:null},disable:{type:Boolean,default:function(){return!1}}},data:function(){return{dialog:!1,showActivatorTooltip:!1,currentHighlight:null}},watch:{dialog:function(t){t&&this.variable&&!this.products&&this.$emit("loadProducts")}}},n=r(150),l=r(197),c=r.n(l),v=r(310),d=r(565),f=r(561),h=r(735),m=r(593),_=r(737),y=r(542),w=r(283),S=r(284),C=r(186),O=r(286),V=r(117),x=r(736),j=r(557),k=r(669),P=r(712),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{scrollable:"",width:"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[r("v-btn",t._g(t._b({attrs:{icon:"",color:t.variable?"primary":"applications",disabled:t.disable},on:{mouseover:function(e){t.showActivatorTooltip=!0},mouseleave:function(e){t.showActivatorTooltip=!1}}},"v-btn",n,!1),o),[r("v-icon",[t._v(t._s(t.variable?"mdi-earth":"mdi-map-marker"))])],1)]}}],null,!0),model:{value:t.showActivatorTooltip,callback:function(e){t.showActivatorTooltip=e},expression:"showActivatorTooltip"}},[t._v(" "),r("span",[t._v("Coverage")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),t.products?r("v-card",[r("v-card-title",{staticClass:"text-h6"},[r("v-icon",{attrs:{color:"applications",left:""}},[t._v("\n        "+t._s(1===t.products.length?"mdi-map-marker":"mdi-earth")+"\n      ")]),t._v(" "),r("span",[t._v(t._s(1===t.products.length?t.products[0].properties.title:t.variable&&t.variable.name)+" Coverage")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card-text",{staticClass:"px-0 black--text pb-0 pb-md-3"},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"5"}},[t.variable?r("v-list",{attrs:{dense:"",subheader:""}},[r("v-subheader",{staticClass:"px-0"},[t._v("\n                Products\n              ")]),t._v(" "),r("v-divider"),t._v(" "),t._l(t.products,(function(e){return r("v-list-item",{key:e.id,staticClass:"px-0",staticStyle:{cursor:"pointer"},on:{mouseover:function(r){t.currentHighlight=e}}},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.properties.title))])],1),t._v(" "),r("v-list-item-action",{staticClass:"flex-row"},[t.variable?r("v-btn",{attrs:{icon:"",color:"primary",disabled:!e.geometry}},[r("v-icon",[t._v("mdi-map-marker")])],1):t._e(),t._v(" "),r("v-btn",{attrs:{icon:"",color:"primary",to:"/products/"+e.id,target:"_blank"}},[r("v-icon",[t._v("mdi-open-in-new")])],1)],1)],1)}))],2):t.products[0]?[r("div",[r("strong",[t._v("Name")])]),t._v(" "),r("div",{staticClass:"mb-2"},[t._v("\n                "+t._s(t.products[0].properties.title)+"\n              ")]),t._v(" "),r("div",[r("strong",[t._v("Region")])]),t._v(" "),r("div",{staticClass:"mb-2"},[t._v("\n                "+t._s(t.products[0].properties["osc:region"])+"\n              ")]),t._v(" "),r("div",[r("strong",[t._v("Satellite missions")])]),t._v(" "),r("div",{staticClass:"mb-2"},[t._v("\n                "+t._s(t.products[0].properties["osc:missions"].join(", "))+"\n              ")]),t._v(" "),r("div",[r("strong",[t._v("BBOX")])]),t._v(" "),r("div",{staticClass:"mb-2"},[t._v("\n                "+t._s(t.products[0].bbox)+"\n              ")])]:t._e()],2),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"7"}},[r("no-ssr",[t.products?r("CoverageMap",{ref:"map",attrs:{features:t.products,highlight:t.currentHighlight}}):t._e()],1)],1)],1)],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n        Close\n      ")])],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{CoverageMap:r(568).default}),c()(component,{VBtn:v.a,VCard:d.a,VCardActions:f.a,VCardText:f.c,VCardTitle:f.d,VCol:h.a,VContainer:m.a,VDialog:_.a,VDivider:y.a,VIcon:w.a,VList:S.a,VListItem:C.a,VListItemAction:O.a,VListItemContent:V.a,VListItemTitle:V.c,VRow:x.a,VSpacer:j.a,VSubheader:k.a,VTooltip:P.a})}}]);