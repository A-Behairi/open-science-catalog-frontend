(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{655:function(t,e,r){var content=r(688);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(31).default)("3a09ad7e",content,!0,{sourceMap:!1})},687:function(t,e,r){"use strict";r(655)},688:function(t,e,r){var n=r(30)(!1);n.push([t.i,".variableHeaderContainer{border-bottom:.25em solid #335e6f}",""]),t.exports=n},705:function(t,e,r){"use strict";r.r(e);var n=r(53),c=(r(179),r(42),r(101),r(14),r(78),r(86),r(99),r(75),r(52),{name:"VariableSingle",components:{BreadCrumbNav:r(576).default},data:function(){return{variable:null,products:[],productsSearch:"",productsFilterOptions:[{text:"Name",value:"title"},{text:"Description",value:"description"}],productsFilterSortBy:"title",productsFilterOrder:"Ascending",productsFilterMission:null,metrics:null,page:1,numberOfPages:1}},head:function(){return{title:this.$route.params.variable.replace(/(^\w{1})|(\s+\w{1})/g,(function(t){return t.toUpperCase()}))}},watch:{productsFilterMission:function(){this.filterProducts()}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$staticCatalog.$get("variables/".concat(t.$route.params.variable)).then((function(e){t.variable=e})).catch((function(t){console.log(t)}));case 2:return e.next=4,Promise.all(t.variable.links.map(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(link){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("item"!==link.rel){e.next=5;break}return e.next=3,t.$staticCatalog.$get("/products/".concat(link.href.slice(0,-5)));case 3:r=e.sent,t.products.push(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,t.$staticCatalog.$get("/metrics");case 6:t.metrics=e.sent;case 7:case"end":return e.stop()}}),e)})))()},methods:{filterProducts:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/collections/metadata:main/items?type=dataset".concat("&q=".concat(t.$metaInfo.title),t.productsSearch?"&q=".concat(t.productsSearch):"").concat(t.productsFilterMission?"&q=".concat(t.productsFilterMission):"","&sortby=").concat(t.productsFilterSortBy,"&startindex=").concat(10*(t.page-1)),e.next=3,t.$dynamicCatalog.$get(r);case 3:n=e.sent,"Descending"===t.productsFilterOrder&&(t.products=n.features.reverse()),t.products=n.features,t.numberOfPages=Math.round(n.numberMatched/10);case 7:case"end":return e.stop()}}),e)})))()}}}),o=c,l=(r(687),r(155)),d=r(201),v=r.n(d),m=r(596),f=r(695),h=r(598),x=r(697),w=r(696),_=r(610),C=r(563),F=r(549),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.variable?r("div",[r("bread-crumb-nav",{attrs:{theme:t.variable["osc:theme"],variable:t.variable.id}}),t._v(" "),r("div",{staticClass:"pb-4 variableHeaderContainer"},[r("v-container",[r("v-row",{staticClass:"ml-2"},[r("span",{staticClass:"mt-3 mb-5 text-h2"},[t._v("\n          "+t._s(t.variable.id)+"\n        ")])]),t._v(" "),r("v-row",{staticClass:"ml-2 pt-0 mt-0 mb-4"},[r("v-chip",{attrs:{color:"rgb(124, 69, 86)",dark:""}},[t._v("\n          "+t._s(t.variable["osc:theme"])+"\n        ")])],1),t._v(" "),r("v-row",{staticClass:"ml-2"},[r("span",[t._v("\n          "+t._s(t.variable.description)+"\n        ")])])],1)],1),t._v(" "),r("v-container",{staticClass:"white",class:t.$vuetify.breakpoint.lgAndUp?"px-15":"pa-0"},[r("v-row",{staticClass:"pa-6"},[r("v-col",{attrs:{cols:"12",md:"4"}},[r("span",{staticClass:"text-h2"},[t._v("\n          Products\n        ")])]),t._v(" "),r("v-col",{class:t.$vuetify.breakpoint.lgAndUp?"d-flex":"",attrs:{cols:"12",md:"8"}},[r("v-spacer"),t._v(" "),r("v-select",{class:t.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:t.productsFilterOptions,label:"Sort by",outlined:""},on:{change:function(e){return t.filterProducts()}},model:{value:t.productsFilterSortBy,callback:function(e){t.productsFilterSortBy=e},expression:"productsFilterSortBy"}}),t._v(" "),r("v-select",{class:t.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:["Ascending","Descending"],label:"Order",outlined:""},on:{change:function(e){return t.filterProducts()}},model:{value:t.productsFilterOrder,callback:function(e){t.productsFilterOrder=e},expression:"productsFilterOrder"}}),t._v(" "),t.metrics?r("v-select",{class:t.$vuetify.breakpoint.lgAndUp?"mr-4":"mb-4",attrs:{dense:"","hide-details":"",items:t.metrics.missions.map((function(t){return t.name})).sort(),label:"Satellite mission",outlined:""},model:{value:t.productsFilterMission,callback:function(e){t.productsFilterMission=e},expression:"productsFilterMission"}}):t._e(),t._v(" "),r("v-text-field",{staticStyle:{width:"400px !important","flex-grow":"0"},attrs:{dense:"","hide-details":"",outlined:"","single-line":"",label:"Search products","prepend-inner-icon":"mdi-magnify"},on:{input:t.filterProducts},model:{value:t.productsSearch,callback:function(e){t.productsSearch=e},expression:"productsSearch"}})],1)],1),t._v(" "),r("item-grid",{attrs:{type:"products",items:t.products}}),t._v(" "),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-pagination",{attrs:{length:t.numberOfPages},on:{input:t.filterProducts,next:t.filterProducts,previous:t.filterProducts},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports;v()(component,{BreadCrumbNav:r(576).default,ItemGrid:r(581).default}),v()(component,{VChip:m.a,VCol:f.a,VContainer:h.a,VPagination:x.a,VRow:w.a,VSelect:_.a,VSpacer:C.a,VTextField:F.a})}}]);